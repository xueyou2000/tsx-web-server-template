# TypeScript ESM é¡¹ç›®æ¨¡æ¿

ä¸€ä¸ªç°ä»£åŒ–çš„åŸºäº ESM (ES Module) çš„ TypeScript é¡¹ç›®æ¨¡æ¿ï¼Œä½¿ç”¨æœ€æ–°çš„å‰ç«¯å¼€å‘å·¥å…·å’Œæœ€ä½³å®è·µã€‚

## ğŸš€ ç‰¹æ€§

- **TypeScript** - é™æ€ç±»å‹æ£€æŸ¥
- **ESM** - ç°ä»£ ES æ¨¡å—ç³»ç»Ÿ
- **pnpm** - é«˜æ€§èƒ½åŒ…ç®¡ç†å™¨
- **tsx** - å¿«é€Ÿè¿è¡Œ TypeScript æºç 
- **dotenv** - ç¯å¢ƒå˜é‡ç®¡ç†
- **Biome** - å¿«é€Ÿä»£ç æ ¼å¼åŒ–å’Œæ£€æŸ¥å·¥å…·ï¼ˆæ›¿ä»£ ESLint + Prettierï¼‰
- **commitlint + husky** - Git æäº¤è§„èŒƒå’Œé’©å­
- **@fastify/multipart** - æ–‡ä»¶ä¸Šä¼ æ”¯æŒ

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ src/                # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ index.ts        # ä¸»å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ logger.ts   # æ—¥å¿—å·¥å…·
â”œâ”€â”€ .gitignore          # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ tsconfig.json       # TypeScript é…ç½®
â”œâ”€â”€ biome.json          # Biome é…ç½®
â”œâ”€â”€ commitlint.config.js # Commitlint é…ç½®
â”œâ”€â”€ .huskyrc.json       # Husky é…ç½®
â”œâ”€â”€ .env.example        # ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶
â”œâ”€â”€ package.json        # é¡¹ç›®é…ç½®å’Œä¾èµ–
â””â”€â”€ README.md           # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### å‰ææ¡ä»¶

- å®‰è£… [Node.js](https://nodejs.org/) (v16+)
- å®‰è£… [pnpm](https://pnpm.io/) (v7+)

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
pnpm dev
```

### æ„å»ºé¡¹ç›®

```bash
pnpm build
```

### è¿è¡Œæ„å»ºåçš„é¡¹ç›®

```bash
pnpm start
```

### æ–‡ä»¶ä¸Šä¼ 

é¡¹ç›®ç°åœ¨æ”¯æŒæ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œé€šè¿‡ `@fastify/multipart` æ’ä»¶å®ç°ã€‚

ä½¿ç”¨ç¤ºä¾‹ï¼š

```bash
# ä¸Šä¼ å•ä¸ªæ–‡ä»¶
curl -X POST http://localhost:3000/api/upload \
  -H "Content-Type: multipart/form-data" \
  -F "file=@path/to/your/file.txt"

# ä¸Šä¼ æ–‡ä»¶å¹¶é™„å¸¦å…¶ä»–å­—æ®µ
curl -X POST http://localhost:3000/api/test/upload \
  -H "Content-Type: multipart/form-data" \
  -F "file=@path/to/your/file.txt" \
  -F "description=This is a test file"
```

### ä»£ç æ£€æŸ¥

```bash
pnpm lint
```

### ä»£ç æ ¼å¼åŒ–

```bash
pnpm format
```

## âš™ï¸ é…ç½®è¯´æ˜

### TypeScript é…ç½®

é¡¹ç›®ä½¿ç”¨äº†ä¸¥æ ¼çš„ TypeScript é…ç½®ï¼Œå¯ç”¨äº†æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥é€‰é¡¹ã€‚è¯¦ç»†é…ç½®è¯·æŸ¥çœ‹ `tsconfig.json` æ–‡ä»¶ã€‚

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼Œå¹¶æ ¹æ® `.env.example` æ–‡ä»¶è®¾ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ã€‚

### æäº¤è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ commitlint è§„èŒƒ Git æäº¤æ¶ˆæ¯ï¼Œæ”¯æŒçš„ç±»å‹åŒ…æ‹¬ï¼š

- `build`: æ„å»ºç³»ç»Ÿæˆ–å¤–éƒ¨ä¾èµ–é¡¹çš„æ›´æ”¹
- `chore`: ä¸å½±å“ä»£ç åº“å«ä¹‰çš„æ›´æ”¹
- `ci`: CI é…ç½®æ–‡ä»¶å’Œè„šæœ¬çš„æ›´æ”¹
- `docs`: æ–‡æ¡£æ›´æ”¹
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `perf`: æé«˜æ€§èƒ½çš„ä»£ç æ›´æ”¹
- `refactor`: æ—¢ä¸ä¿®å¤ bug ä¹Ÿä¸æ·»åŠ åŠŸèƒ½çš„ä»£ç æ›´æ”¹
- `revert`: æ’¤é”€ä¹‹å‰çš„æäº¤
- `style`: ä¸å½±å“ä»£ç å«ä¹‰çš„æ›´æ”¹
- `test`: æ·»åŠ æˆ–ä¿®æ­£æµ‹è¯•

## ğŸ“ æ³¨æ„äº‹é¡¹

- é¡¹ç›®ä½¿ç”¨ ESM (ES Module)ï¼Œè¯·ç¡®ä¿ä½¿ç”¨ `import/export` è¯­æ³•
- æ‰€æœ‰æºä»£ç éƒ½åº”è¯¥æ”¾åœ¨ `src` ç›®å½•ä¸‹
- æ„å»ºåçš„ä»£ç ä¼šè¾“å‡ºåˆ° `dist` ç›®å½•

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä½¿ç”¨ ISC è®¸å¯è¯ã€‚
